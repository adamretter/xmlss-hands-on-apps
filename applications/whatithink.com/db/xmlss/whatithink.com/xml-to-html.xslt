<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="2.0">
    <!-- template wich does basic pretty printing of xml into html --><xsl:template match="node()" mode="xml-to-html"><xsl:param name="depth" select="0"/><xsl:param name="default-namespace" select="''"/><xsl:choose><xsl:when test=". instance of element()"><xsl:for-each select="1 to $depth"><xsl:text>	</xsl:text></xsl:for-each><xsl:value-of select="concat('&lt;', node-name(.),  if(namespace-uri() ne '' and namespace-uri() ne $default-namespace)then(concat(' xmlns=&#34;', namespace-uri(), '&#34;'))else(), if(@*)then(' ')else(), string-join(for $attr in @* return concat(node-name($attr), '=&#34;', $attr, '&#34;'), ' '), '&gt;', if(element())then('&#xA;')else(''))"/><xsl:apply-templates select="node()" mode="xml-to-html"><xsl:with-param name="depth" select="if(./element())then($depth + 1)else($depth)"/><xsl:with-param name="default-namespace" select="namespace-uri()"/></xsl:apply-templates><xsl:value-of select="concat('&lt;/', node-name(.), '&gt;&#xA;')"/></xsl:when><xsl:otherwise><xsl:copy><xsl:apply-templates select="node()" mode="xml-to-html"/></xsl:copy></xsl:otherwise></xsl:choose></xsl:template></xsl:stylesheet>