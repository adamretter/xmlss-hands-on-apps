/*
File        : jquery.xmlwrapper.js
Author      : jnz
Version     : 1.5a
Copyright   : Placed in public domain by W. H. Jou, 2010
Discription : XML Wrapper v1.5a
*/
(function(k){if(k.xmlDOM==undefined){
/*
 * jQuery xmlDOM Plugin v1.0
 * http://outwestmedia.com/jquery-plugins/xmldom/
 *
 * Released: 2009-04-06
 * Version: 1.0
 *
 * Copyright (c) 2009 Jonathan Sharp, Out West Media LLC.
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 */
(function(i){if(window.DOMParser==undefined&&window.ActiveXObject){DOMParser=function(){};DOMParser.prototype.parseFromString=function(L){var K=new ActiveXObject("Microsoft.XMLDOM");K.async="false";K.loadXML(L);return K}}i.xmlDOM=function(K,P){try{var M=(new DOMParser()).parseFromString(K,"text/xml");if(i.isXMLDoc(M)){var L=i("parsererror",M);if(L.length==1){throw ("Error: "+i(M).text())}}else{throw ("Unable to parse XML")}}catch(N){var O=(N.name==undefined?N:N.name+": "+N.message);if(i.isFunction(P)){P(O)}else{i(document).trigger("xmlParseError",[O])}return i([])}return i(M)}})(jQuery)}else{}var m=0;var s=1;var b=2;var J=3;var z=4;var h=5;var r=6;var j=7;var G=8;var u=9;var B=10;var y=11;var D=12;var n=[undefined,"ELEMENT","ATTRIBUTE","TEXT","CDATA_SECTION","ENTITY_REFERENCE","ENTITY","PROCESSING_INSTRUCTION","COMMENT","DOCUMENT","DOCUMENT_TYPE","DOCUMENT_FRAGMENT","NOTATION"];var x=[undefined];for(var C=1;C<n.length;++C){x[C]="xml-"+n[C]}var w="&lt;";var I="&gt;";var E="xml-OTHER";var f="xml-symbol";var H="xml-body";var v="xml-nodeName";var d="xml-nodeValue";function e(i){return'<span class="'+i+'">'}function a(){return"</span>"}function A(i){return""+e(x[m])+"[Unhandled "+n[i.nodeType]+"]"+a()}function q(i){return'<div class="'+x[i.nodeType]+'">'+p(i.childNodes[0])+"</div>"}function l(i){return'<span class="'+x[i.nodeType]+'">'+e(H)+i.data+a()+a()}function t(i){return'<span class="'+x[i.nodeType]+'">'+e(f)+w+"![CDATA["+a()+e(H)+i.data+a()+e(f)+"]]"+I+a()+a()}function c(i){return'<span class="'+x[i.nodeType]+'">'+e(f)+w+"!--"+a()+e(H)+i.data+a()+e(f)+"--"+I+a()+a()}function o(i){return""+e(x[i.nodeType]+'" name="'+i.nodeName+'" value="'+i.nodeValue)+e(v)+i.nodeName+a()+e(f)+'="'+a()+e(d)+i.nodeValue+a()+e(f)+'"'+a()+a()}function g(O){var P=[];var M=[];var N="";for(var K=0;K<O.attributes.length;++K){var L=p(O.attributes.item(K));P.push(L)}for(var K=0;K<O.childNodes.length;++K){var L=p(O.childNodes[K]);M.push(L)}var N=""+e(x[O.nodeType]+'" name="'+O.nodeName)+e(f)+w+a()+e(v)+O.nodeName+a()+e(H);for(var K=0;K<P.length;++K){N+=" "+P[K]}if(M.length==0){N+=""+a()+e(d)+a()+e(f)+"/"+I+a()+a()}else{N+=""+e(f)+I+a()+e(d);for(var K=0;K<M.length;++K){N+=M[K]}N+=""+a()+e(f)+w+a()+a()+e(f)+"/"+a()+e(H)+e(v)+O.nodeName+a()+a()+e(f)+I+a()+a()}return N}function p(K){var i="";if(K.nodeType==J){i=l(K)}else{if(K.nodeType==z){i=t(K)}else{if(K.nodeType==G){i=c(K)}else{if(K.nodeType==b){i=o(K)}else{if(K.nodeType==s){i=g(K)}else{if(K.nodeType==u){i=q(K)}else{i=A(K)}}}}}}return i}function F(i){var K=k.xmlDOM(i).get(0);var L=p(K);return L}k.wrapXml=function(i){var L=F(i);var K=k(L);return K};k.wrapXmlFind=function(P,R){var Q=R.split("/");var M=P;for(var N=0;N<Q.length;++N){var K=Q[N];if(K==""){if(N==0){var L=M.closest("."+x[u]);var O=M.find("."+x[u]);M=(L.length>0)?L:O}}else{if(K==".."){M=M.closest("."+x[s])}else{if(K=="*"){M=M.find("."+x[s])}else{if(K.charAt(0)=="@"){K=K.substring(1);if(K=="*"){M=M.find("."+x[b])}else{M=M.find("."+x[b]+'[name="'+K+'"]')}}else{if(K=="#"){M=M.find("."+d)}else{M=M.find("."+x[s]+'[name="'+K+'"]')}}}}}}return M};k.wrapXmlSetCollapsible=function(i,K){if(K){i.find(x[s]).toggle(function(){k(this).find("."+H).hide()},function(){k(this).find("."+H).show()})}else{i.find(x[s]).unbind("click")}}})(jQuery);